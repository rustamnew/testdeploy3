import{aP as z,g as y,ar as C,aJ as R,o as t,c as r,u as e,k as m,t as b,w as v,b as i,f as d,a as c,n as w,y as E,A as D,z as F,_ as M,aQ as P,s as V,aR as H,F as k,r as S,d as L,aS as J}from"./entry.DCNB1XUa.js";import{_ as B}from"./nuxt-link.Pkz_dXBM.js";import{_ as O}from"./QImg.fRyHBJ6h.js";import{u as Q}from"./data.CyXGuqNC.js";import"./use-timeout.BgTDjfJS.js";const T={class:"flex flex-nowrap justify-between items-center bg-black text-white p-4 sm:py-0 sm:px-10 h-16"},U=c("div",{class:"logo flex shrink-0 items-center"},[c("a",{href:"/",class:"text-logo font-semibold",style:{"font-family":"'Noto Serif'"}}," Project ")],-1),G={key:1,class:"text-xl"},I={key:3,class:"h-12 shrink-0 flex flex-nowrap rounded-3xl overflow-hidden ml-9"},K={class:"h-full bg-gray p-1 flex items-center justify-end relative"},W={__name:"AppHeader",setup(g){const u=z(),l=y(!1),p=y(!1),n=C(),s=R("user_loading");function _(){l.value=!l.value}function o(){E(null,null,!0),u.push({path:"/auth"})}return(f,a)=>{const x=D,h=F,A=B,N=M,j=O,q=P;return t(),r("header",T,[U,e(s)===!0?(t(),m(x,{key:0,color:"primary",size:"3em"})):(t(),r("h3",G,b(e(n).guest?"Гость":e(n).user.username),1)),e(n).authenticated?d("",!0):(t(),m(A,{key:2,to:"/auth",class:"ml-6"},{default:v(()=>[i(h,{color:"primary",class:"rounded-lg","text-color":"white",label:"Войти"})]),_:1})),e(n).authenticated?(t(),r("div",I,[c("div",{class:w(["h-full flex items-center bg-gray pl-2 transition-all duration-500",e(l)?"w-20":"w-3"])},[c("div",{class:w(["opacity-0",e(l)?"delay-400 opacity-100":"delay-0 opacity-0"])},[i(h,{color:"primary",class:"rounded-lg",size:"sm","text-color":"white",label:"Выйти",onClick:a[0]||(a[0]=$=>o())})],2)],2),c("div",K,[i(N,{class:"cursor-pointer text-black text-[19px] mr-2.5",name:e(l)?"fa-solid fa-x":"fa-solid fa-bars",onClick:a[1]||(a[1]=$=>_())},null,8,["name"]),e(n).user.avatar_src&&e(p)===!1?(t(),m(q,{key:0,size:"20",class:"h-10 w-10"},{default:v(()=>[i(j,{src:e(n).user.avatar_src,onError:a[2]||(a[2]=$=>p.value=!0)},null,8,["src"])]),_:1})):d("",!0)])])):d("",!0)])}}},X=W,Y={class:"flex flex-col-reverse sm:flex-col items-center border-transparent overflow-hidden"},Z={class:"w-full md:justify-center pb-2 flex flex-nowrap px-4 md:px-0 mt-2 md:mt-5 md:pb-5 overflow-x-auto border-[#CCCCCC] border-b"},ee=["onClick"],te={__name:"PageMenu",setup(g){const u=V(),l=H(),p=C(),n=y([]),s=u.getRoutes(),_=[];return s.forEach(o=>{let f=!1;if(o.name&&o.path&&o.path!=="/"&&o.meta.globalMenu!==!1&&(o.meta.order>0&&(f=!0),o.meta.middleware?o.meta.middleware.includes("auth")&&p.authenticated&&_.push(o):_.push(o)),f){let a=function(x,h){return x.meta.order-h.meta.order};_.sort(a)}n.value=_}),(o,f)=>(t(),r("div",Y,[c("nav",Z,[(t(!0),r(k,null,S(e(n),a=>(t(),r("button",{key:a.path,class:w(["shrink-0 bg-gray hover:bg-lightgray rounded-xl py-2 px-3 border mx-1 text-base font-medium",e(l).path===a.path?"border-black":"border-transparent"]),onClick:x=>e(u).push({path:a.path})},b(a.name),11,ee))),128))])]))}},oe=te,ne={class:"bg-lightgray py-6 px-4 md:px-8 mt-auto"},se={class:"flex flex-col md:flex-row"},ae=c("a",{href:"/",class:"text-base font-medium text-black mb-5 md:mb-0 mr-2.5"}," © Rustam_project 2024 ",-1),re=["href"],le={__name:"AppFooter",setup(g){const u=y([{title:"Документы",link:"https://ru.wikipedia.org/wiki/%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82",type:"external"},{title:"О проекте",link:"/about",type:"inner"},{title:"Вход",link:"/auth",type:"inner"},{title:"Добро пожаловать",link:"/welcome",type:"inner"}]);return(l,p)=>{const n=B;return t(),r("footer",ne,[c("div",se,[ae,(t(!0),r(k,null,S(e(u),s=>(t(),r(k,{key:s.link},[s.type==="inner"?(t(),m(n,{key:0,to:s.link,class:"mb-5 md:mb-0 text-base font-medium text-darkgray md:mx-2.5"},{default:v(()=>[L(b(s.title),1)]),_:2},1032,["to"])):d("",!0),s.type==="external"?(t(),r("a",{key:1,href:s.link,class:"mb-5 md:mb-0 text-base font-medium text-darkgray md:mx-2.5",target:"_blank"},b(s.title),9,re)):d("",!0)],64))),128))])])}}},ce=le,ue={class:"main relative p-10"},fe={__name:"default",setup(g){const u=Q();return(l,p)=>{const n=X,s=oe,_=D,o=ce;return t(),r(k,null,[i(n),i(s),c("div",ue,[J(l.$slots,"default"),e(u).loading===!0?(t(),m(_,{key:0,color:"primary",size:"3em",class:"absolute top-2 left-4"})):d("",!0)]),i(o)],64)}}};export{fe as default};
