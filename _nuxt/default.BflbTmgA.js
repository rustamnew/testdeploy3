import{aO as A,g as x,x as C,o,c as l,a as c,t as h,u as e,k as b,w as v,b as p,f as m,n as w,B as R,s as j,aP as q,z,aQ as E,F as y,r as D,d as F,aR as M,C as P}from"./entry.BXnrCNv6.js";import{_ as B}from"./nuxt-link.CrOvwcMO.js";import{_ as V}from"./QImg.Bvvq1gIi.js";import{u as H}from"./data.CJNdPfil.js";import"./use-timeout.BSSs-esP.js";const L={class:"flex flex-nowrap justify-between items-center bg-black text-white p-4 sm:py-0 sm:px-10 h-16"},O=c("div",{class:"logo flex shrink-0 items-center"},[c("a",{href:"/",class:"text-logo font-semibold",style:{"font-family":"'Noto Serif'"}}," Project ")],-1),Q={class:"text-xl"},T={key:1,class:"h-12 shrink-0 flex flex-nowrap rounded-3xl overflow-hidden ml-9"},U={class:"h-full bg-gray p-1 flex items-center justify-end relative"},G={__name:"AppHeader",setup(k){const _=A(),a=x(!1),d=x(!1),t=C();function n(){a.value=!a.value}function i(){_.push({path:"/auth"}),t.logout()}return(s,r)=>{const u=R,f=B,g=j,S=V,N=q;return o(),l("header",L,[O,c("h3",Q,h(e(t).guest?"Гость":e(t).user.username),1),e(t).authenticated?m("",!0):(o(),b(f,{key:0,to:"/auth",class:"mx-6"},{default:v(()=>[p(u,{color:"primary",class:"rounded-lg","text-color":"white",label:"Войти"})]),_:1})),e(t).authenticated?(o(),l("div",T,[c("div",{class:w(["h-full flex items-center bg-gray pl-2 transition-all duration-500",e(a)?"w-20":"w-3"])},[c("div",{class:w(["opacity-0",e(a)?"delay-400 opacity-100":"delay-0 opacity-0"])},[p(u,{color:"primary",class:"rounded-lg",size:"sm","text-color":"white",label:"Выйти",onClick:r[0]||(r[0]=$=>i())})],2)],2),c("div",U,[p(g,{class:"cursor-pointer text-black text-[19px] mr-2.5",name:e(a)?"fa-solid fa-x":"fa-solid fa-bars",onClick:r[1]||(r[1]=$=>n())},null,8,["name"]),e(t).user.avatar_src&&e(d)===!1?(o(),b(N,{key:0,size:"20",class:"h-10 w-10"},{default:v(()=>[p(S,{src:e(t).user.avatar_src,onError:r[2]||(r[2]=$=>d.value=!0)},null,8,["src"])]),_:1})):m("",!0)])])):m("",!0)])}}},I=G,J={class:"flex flex-col-reverse sm:flex-col items-center border-transparent overflow-hidden"},K={class:"w-full md:justify-center pb-2 flex flex-nowrap px-4 md:px-0 mt-2 md:mt-5 md:pb-5 overflow-x-auto border-[#CCCCCC] border-b"},W=["onClick"],X={__name:"PageMenu",setup(k){const _=z(),a=E(),d=C(),t=x([]),n=_.getRoutes(),i=[];return n.forEach(s=>{let r=!1;if(s.name&&s.path&&s.path!=="/"&&s.meta.globalMenu!==!1&&(s.meta.order>0&&(r=!0),s.meta.middleware?s.meta.middleware.includes("auth")&&d.authenticated&&i.push(s):i.push(s)),r){let u=function(f,g){return f.meta.order-g.meta.order};i.sort(u)}t.value=i}),(s,r)=>(o(),l("div",J,[c("nav",K,[(o(!0),l(y,null,D(e(t),u=>(o(),l("button",{key:u.path,class:w(["shrink-0 bg-gray hover:bg-lightgray rounded-xl py-2 px-3 border mx-1 text-base font-medium",e(a).path===u.path?"border-black":"border-transparent"]),onClick:f=>e(_).push({path:u.path})},h(u.name),11,W))),128))])]))}},Y=X,Z={class:"bg-lightgray py-6 px-4 md:px-8 mt-auto"},ee={class:"flex flex-col md:flex-row"},te=c("a",{href:"/",class:"text-base font-medium text-black mb-5 md:mb-0 mr-2.5"}," © Rustam_project 2024 ",-1),oe=["href"],ne={__name:"AppFooter",setup(k){const _=x([{title:"Документы",link:"https://ru.wikipedia.org/wiki/%D0%94%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82",type:"external"},{title:"О проекте",link:"/about",type:"inner"},{title:"Вход",link:"/auth",type:"inner"},{title:"Добро пожаловать",link:"/welcome",type:"inner"}]);return(a,d)=>{const t=B;return o(),l("footer",Z,[c("div",ee,[te,(o(!0),l(y,null,D(e(_),n=>(o(),l(y,{key:n.link},[n.type==="inner"?(o(),b(t,{key:0,to:n.link,class:"mb-5 md:mb-0 text-base font-medium text-darkgray md:mx-2.5"},{default:v(()=>[F(h(n.title),1)]),_:2},1032,["to"])):m("",!0),n.type==="external"?(o(),l("a",{key:1,href:n.link,class:"mb-5 md:mb-0 text-base font-medium text-darkgray md:mx-2.5",target:"_blank"},h(n.title),9,oe)):m("",!0)],64))),128))])])}}},se=ne,ae={class:"main relative p-10"},ie={__name:"default",setup(k){const _=H();return(a,d)=>{const t=I,n=Y,i=P,s=se;return o(),l(y,null,[p(t),p(n),c("div",ae,[M(a.$slots,"default"),e(_).loading===!0?(o(),b(i,{key:0,color:"primary",size:"3em",class:"absolute top-2 left-4"})):m("",!0)]),p(s)],64)}}};export{ie as default};
